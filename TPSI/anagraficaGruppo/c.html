<!DOCTYPE html>
<html >
    <style>
        #left{
            float: left;
            width: 25%;
            height: 100%;
            background-color: rgb(83, 82, 82);
            text-align: center;
          
        }
        #right{
            float: right;
            width: 75%;
            height: 100%;
            background-color: antiquewhite;
        }
        img{
            width: 60%;
        }
        h1{
            color: antiquewhite;
            font-size:40px;
        }
        h2{
            color: antiquewhite;
        }
        h3{
            text-align: center;
            color:rgb(83, 82, 82);
            font-size: 70px;
        }
        h4{
            margin-left: 5%;
            color:rgb(83, 82, 82);
            font-size: 40px;
        }
        h5{
            margin-left: 10%;
            color:rgb(83, 82, 82);
            font-size: 27px;
        }
    </style>

<body>
   
    <div id="left"></div>
    <div id="right"></div>

    <script>
        // Funzione per caricare il file XML
        function caricaXML() {
            // Crea una nuova richiesta HTTP
            var xhr = new XMLHttpRequest();
            var url=localStorage.getItem("url2")
            // Definisci il tipo di richiesta e l'URL del file XML
            xhr.open("GET", url , true);

            // Gestore dell'evento quando la richiesta è completata
            xhr.onload = function () {
                if (xhr.status === 200) {
                    // Se la richiesta ha avuto successo (status 200)
                    var xmlDoc = xhr.responseXML;  // Ottieni il documento XML

                    // Ora possiamo lavorare con l'XML. Ad esempio, vogliamo stampare tutti gli elementi.
                  //  var contenuto = "";



                    var person = xmlDoc.getElementsByTagName("persona");
                    
                    for (var i = 0; i < person.length; i++) {
                       // contenuto += "<p>Nome: " + person[i].getElementsByTagName("nome")[0].textContent + "</p>";
                       // contenuto += "<p>Descrizione: " + person[i].getElementsByTagName("cognome")[0].textContent + "</p><hr>";
                        var out1='<br><br><br><br><br><img src="'+person[i].getElementsByTagName("foto")[0].textContent+'"><br><br><h1>'+person[i].getElementsByTagName("nome")[0].textContent+" "+person[i].getElementsByTagName("cognome")[0].textContent+'</h1><br><h2>'+person[i].getElementsByTagName("dataN")[0].textContent+'</h2><br><br><br>'
                
                    }

                    document.getElementById("left").innerHTML = out1
                  //  var pers=xmlDoc.getElementsByTagNameNS("persona")
                  //  contenuto+="<p>"+pers[0].getElementsByTagName("nome")[0].textContent+"</p>";
                    var elementi = xmlDoc.getElementsByTagName("Lavoro");

                    var out2='<h3>PORTFOLIO</h3><br><br><h4>LAVORI ESEGUITI</h4>'
    
                    
                    for (var i = 0; i < elementi.length; i++) {
                        out2 += "<h5>" + elementi[i].getElementsByTagName("nameL")[0].textContent + "</h5><br>";
                        //contenuto += "<p>Descrizione: " + elementi[i].getElementsByTagName("linkL")[0].textContent + "</p><hr>";

                        //<h5>'+arr[0].formazioneScolastica+'</h5>
                    }
                    document.getElementById("right").innerHTML = out2
                    // Mostra il contenuto nell'HTML
                   // document.getElementById("xmlContent").innerHTML = contenuto;
                } else {
                    console.error("Errore nel caricamento del file XML");
                }
            };

            // Gestore degli errori (in caso di problemi con la richiesta)
            xhr.onerror = function () {
                console.error("Si è verificato un errore durante la richiesta.");
            };

            // Invia la richiesta
            xhr.send();
        }

        // Chiama la funzione per caricare il file XML al caricamento della pagina
        window.onload = function () {
            caricaXML();
        };
    </script>
</body>
</html>
